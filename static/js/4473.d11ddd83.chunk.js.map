{"version":3,"file":"static/js/4473.d11ddd83.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/identity/IdentityForm.js","../node_modules/focus-trap/index.js","../node_modules/tabbable/src/index.js","../node_modules/@arcgis/core/identity/IdentityModal.js","../node_modules/@arcgis/core/identity/OAuthCredential.js","../node_modules/@arcgis/core/identity/OAuthInfo.js","../node_modules/@arcgis/core/identity/ServerInfo.js","../node_modules/@arcgis/core/identity/IdentityManagerBase.js","../node_modules/@arcgis/core/identity/IdentityManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{substitute as r}from\"../intl/substitute.js\";import{storeNode as o}from\"../widgets/support/widgetUtils.js\";import{messageBundle as i}from\"../widgets/support/decorators/messageBundle.js\";import{j as n}from\"../chunks/index.js\";import u from\"../widgets/Widget.js\";const l={base:\"esri-identity-form\",group:\"esri-identity-form__group\",label:\"esri-identity-form__label\",footer:\"esri-identity-form__footer\",esriInput:\"esri-input\",esriButton:\"esri-button\",esriButtonSecondary:\"esri-button--secondary\"},p=\"ArcGIS Online\";let a=class extends u{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.messages=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1}render(){const{error:s,server:e,resource:t,signingIn:i,oAuthPrompt:u,messages:a}=this,d=n(\"div\",{class:l.group},r(u?a.oAuthInfo:a.info,{server:/\\.arcgis\\.com/i.test(e)?p:e,resource:`(${t||a.lblItem})`})),c=u?null:n(\"div\",{class:l.group},n(\"label\",{class:l.label},a.lblUser,n(\"input\",{value:\"\",required:!0,autocomplete:\"off\",spellcheck:!1,type:\"text\",bind:this,afterCreate:o,\"data-node-ref\":\"_usernameInputNode\",class:l.esriInput}))),m=u?null:n(\"div\",{class:l.group},n(\"label\",{class:l.label},a.lblPwd,n(\"input\",{value:\"\",required:!0,type:\"password\",bind:this,afterCreate:o,\"data-node-ref\":\"_passwordInputNode\",class:l.esriInput}))),h=n(\"div\",{class:this.classes(l.group,l.footer)},n(\"input\",{type:\"submit\",disabled:!!i,value:i?a.lblSigning:a.lblOk,class:l.esriButton}),n(\"input\",{type:\"button\",value:a.lblCancel,bind:this,onclick:this._cancel,class:this.classes(l.esriButton,l.esriButtonSecondary)})),b=s?n(\"div\",null,s.details&&s.details.httpStatus?a.invalidUser:a.noAuthService):null;return n(\"form\",{class:l.base,bind:this,onsubmit:this._submit},d,b,c,m,h)}_cancel(){this._set(\"signingIn\",!1),this._usernameInputNode&&(this._usernameInputNode.value=\"\"),this._passwordInputNode&&(this._passwordInputNode.value=\"\"),this.emit(\"cancel\")}_submit(s){s.preventDefault(),this._set(\"signingIn\",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit(\"submit\",e)}};s([e(),i(\"esri/identity/t9n/identity\")],a.prototype,\"messages\",void 0),s([e()],a.prototype,\"signingIn\",void 0),s([e()],a.prototype,\"server\",void 0),s([e()],a.prototype,\"resource\",void 0),s([e()],a.prototype,\"error\",void 0),s([e()],a.prototype,\"oAuthPrompt\",void 0),a=s([t(\"esri.identity.IdentityForm\")],a);var d=a;export default d;\n","import { tabbable, isFocusable } from 'tabbable';\n\nlet activeFocusDelay;\n\nconst activeFocusTraps = (function () {\n  const trapQueue = [];\n  return {\n    activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        const activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap(trap) {\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    },\n  };\n})();\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nconst findIndex = function (arr, fn) {\n  let idx = -1;\n\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst createFocusTrap = function (elements, userOptions) {\n  const doc = document;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    ...userOptions,\n  };\n\n  const state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{ container: HTMLElement, firstTabbableNode: HTMLElement|null, lastTabbableNode: HTMLElement|null }>}\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  const containersContain = function (element) {\n    return state.containers.some((container) => container.contains(element));\n  };\n\n  const getNodeForOption = function (optionName) {\n    const optionValue = config[optionName];\n    if (!optionValue) {\n      return null;\n    }\n\n    let node = optionValue;\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n      if (!node) {\n        throw new Error(`\\`${optionName}\\` refers to no known node`);\n      }\n    }\n\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error(`\\`${optionName}\\` did not return a node`);\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node;\n\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (containersContain(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      const firstTabbableGroup = state.tabbableGroups[0];\n      const firstTabbableNode =\n        firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n      node = firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.tabbableGroups = state.containers\n      .map((container) => {\n        const tabbableNodes = tabbable(container);\n\n        if (tabbableNodes.length > 0) {\n          return {\n            container,\n            firstTabbableNode: tabbableNodes[0],\n            lastTabbableNode: tabbableNodes[tabbableNodes.length - 1],\n          };\n        }\n\n        return undefined;\n      })\n      .filter((group) => !!group); // remove groups with no tabbable nodes\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus')\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n  };\n\n  const tryFocus = function (node) {\n    if (node === doc.activeElement) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus');\n\n    return node ? node : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    if (containersContain(e.target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(e.target),\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  const checkFocusIn = function (e) {\n    const targetContained = containersContain(e.target);\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || e.target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = e.target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkTab = function (e) {\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      const containerIndex = findIndex(state.tabbableGroups, ({ container }) =>\n        container.contains(e.target)\n      );\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n        const startOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ firstTabbableNode }) => e.target === firstTabbableNode\n        );\n\n        if (startOfGroupIndex >= 0) {\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n        const lastOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ lastTabbableNode }) => e.target === lastTabbableNode\n        );\n\n        if (lastOfGroupIndex >= 0) {\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    }\n  };\n\n  const checkKey = function (e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  const checkClick = function (e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (containersContain(e.target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    activeFocusDelay = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false,\n    });\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      updateTabbableNodes();\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      const onActivate =\n        activateOptions && activateOptions.onActivate\n          ? activateOptions.onActivate\n          : config.onActivate;\n      if (onActivate) {\n        onActivate();\n      }\n\n      addListeners();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(activeFocusDelay);\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n\n      activeFocusTraps.deactivateTrap(trap);\n\n      const onDeactivate =\n        deactivateOptions && deactivateOptions.onDeactivate !== undefined\n          ? deactivateOptions.onDeactivate\n          : config.onDeactivate;\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      const returnFocus =\n        deactivateOptions && deactivateOptions.returnFocus !== undefined\n          ? deactivateOptions.returnFocus\n          : config.returnFocusOnDeactivate;\n\n      if (returnFocus) {\n        delay(function () {\n          tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n        });\n      }\n\n      return this;\n    },\n\n    pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n\n      return this;\n    },\n\n    unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n\n      return this;\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    },\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n","const candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary:first-of-type',\n  'details',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst matches =\n  typeof Element === 'undefined'\n    ? function () {}\n    : Element.prototype.matches ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.webkitMatchesSelector;\n\nconst getCandidates = function (el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nconst isContentEditable = function (node) {\n  return node.contentEditable === 'true';\n};\n\nconst getTabindex = function (node) {\n  const tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) {\n    return 0;\n  }\n\n  // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n  if (\n    (node.nodeName === 'AUDIO' ||\n      node.nodeName === 'VIDEO' ||\n      node.nodeName === 'DETAILS') &&\n    node.getAttribute('tabindex') === null\n  ) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || node.ownerDocument;\n\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nconst isHidden = function (node, displayCheck) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full') {\n    while (node) {\n      if (getComputedStyle(node).display === 'none') {\n        return true;\n      }\n      node = node.parentElement;\n    }\n  } else if (displayCheck === 'non-zero-area') {\n    const { width, height } = node.getBoundingClientRect();\n    return width === 0 && height === 0;\n  }\n\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options.displayCheck) ||\n    /* For a details element with a summary, the summary element gets the focused  */\n    isDetailsWithSummary(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    !isNodeMatchingSelectorFocusable(options, node) ||\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst tabbable = function (el, options) {\n  options = options || {};\n\n  const regularTabbables = [];\n  const orderedTabbables = [];\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorTabbable.bind(null, options)\n  );\n\n  candidates.forEach(function (candidate, i) {\n    const candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  });\n\n  const tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map((a) => a.node)\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n};\n\nconst focusable = function (el, options) {\n  options = options || {};\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorFocusable.bind(null, options)\n  );\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../core/handleUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{messageBundle as i}from\"../widgets/support/decorators/messageBundle.js\";import{j as r}from\"../chunks/index.js\";import{isWidget as n}from\"../widgets/support/widget.js\";import a from\"../widgets/Widget.js\";import{createFocusTrap as c}from\"focus-trap\";const l={base:\"esri-identity-modal\",open:\"esri-identity-modal--open\",closed:\"esri-identity-modal--closed\",title:\"esri-identity-modal__title\",dialog:\"esri-identity-modal__dialog\",content:\"esri-identity-modal__content\",closeButton:\"esri-identity-modal__close-button\",iconClose:\"esri-icon-close\"};let d=class extends a{constructor(t,e){super(t,e),this.container=document.createElement(\"div\"),this.content=null,this.open=!1,this._close=()=>{this.open=!1},document.body.appendChild(this.container),this.own(this.watch(\"open\",(()=>this._toggleFocusTrap())))}destroy(){this._destroyFocusTrap()}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,n=e&&!!o,a={[l.open]:n,[l.closed]:!n},c=r(\"button\",{class:l.closeButton,\"aria-label\":i.close,title:i.close,bind:this,onclick:this._close},r(\"span\",{\"aria-hidden\":\"true\",class:l.iconClose})),d=`${t}_title`,p=`${t}_content`,u=s?r(\"h1\",{id:d,class:l.title},s):null,m=n?r(\"div\",{bind:this,class:l.dialog,role:\"dialog\",\"aria-labelledby\":d,\"aria-describedby\":p,afterCreate:this._createFocusTrap},c,u,this._renderContent(p)):null;return r(\"div\",{tabIndex:-1,class:this.classes(l.base,a)},m)}_destroyFocusTrap(){var t;null==(t=this._focusTrap)||t.deactivate({onDeactivate:null}),this._focusTrap=null}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate())}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=c(t,{initialFocus:\"input\",onDeactivate:this._close}),this._toggleFocusTrap()}));this.own(e((()=>cancelAnimationFrame(o))))}_renderContent(t){const e=this.content;return\"string\"==typeof e?r(\"div\",{class:l.content,id:t,innerHTML:e}):n(e)?r(\"div\",{class:l.content,id:t},e.render()):e instanceof HTMLElement?r(\"div\",{class:l.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};t([o({readOnly:!0})],d.prototype,\"container\",void 0),t([o()],d.prototype,\"content\",void 0),t([o()],d.prototype,\"open\",void 0),t([o(),i(\"esri/t9n/common\")],d.prototype,\"messages\",void 0),t([o({aliasOf:\"messages.auth.signIn\"})],d.prototype,\"title\",void 0),d=t([s(\"esri.identity.IdentityModal\")],d);var p=d;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=\"esriJSAPIOAuth\";class s{constructor(t,s){this.oAuthInfo=null,this.storage=null,this.appId=null,this.expires=null,this.ssl=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=s,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.token&&this.userId){const s=Date.now();if(this.expires>s){(this.expires-s)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return;const s=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let o=s[e.authNamespace];o||(o=s[e.authNamespace]={}),o[e.portalUrl]={appId:this.appId=e.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}destroy(){const s=this._load(),e=this.oAuthInfo;if(e&&e.appId&&e.portalUrl&&this.token&&this.expires>Date.now()){const t=e.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/rest/oauth2/revokeToken\",s=new FormData;if(s.append(\"f\",\"json\"),s.append(\"auth_token\",this.token),s.append(\"client_id\",e.appId),s.append(\"token_type_hint\",\"access_token\"),\"function\"==typeof navigator.sendBeacon)navigator.sendBeacon(t,s);else{const e=new XMLHttpRequest;e.open(\"POST\",t),e.send(s)}}if(e&&e.authNamespace&&e.portalUrl&&this.storage){const o=s[e.authNamespace];if(o){delete o[e.portalUrl];try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}e&&(e._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let e=t[s.authNamespace];e&&(e=e[s.portalUrl],e&&(this.appId=e.appId,this.expires=e.expires,this.ssl=e.ssl,this.token=e.token,this.userId=e.userId))}}_load(){let s={};if(this.storage){const i=this.storage.getItem(t);if(i)try{s=JSON.parse(i)}catch(e){console.log(e)}}return s}}s.prototype.declaredClass=\"esri.identity.OAuthCredential\";export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";var p;let s=p=class extends e{constructor(o){super(o),this._oAuthCred=null,this.appId=null,this.authNamespace=\"/\",this.expiration=20160,this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl=\"oauth-callback.html\",this.popupWindowFeatures=\"height=490,width=800,resizable,scrollbars,status\",this.portalUrl=\"https://www.arcgis.com\",this.preserveUrlHash=!1,this.userId=null}clone(){return p.fromJSON(this.toJSON())}};o([r({json:{write:!0}})],s.prototype,\"appId\",void 0),o([r({json:{write:!0}})],s.prototype,\"authNamespace\",void 0),o([r({json:{write:!0}})],s.prototype,\"expiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceLogin\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceUserId\",void 0),o([r({json:{write:!0}})],s.prototype,\"locale\",void 0),o([r({json:{write:!0}})],s.prototype,\"minTimeUntilExpiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"popup\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupCallbackUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupWindowFeatures\",void 0),o([r({json:{write:!0}})],s.prototype,\"portalUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"preserveUrlHash\",void 0),o([r({json:{write:!0}})],s.prototype,\"userId\",void 0),s=p=o([t(\"esri.identity.OAuthInfo\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";let s=class extends t{constructor(r){super(r),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};r([o({json:{write:!0}})],s.prototype,\"adminTokenServiceUrl\",void 0),r([o({json:{write:!0}})],s.prototype,\"currentVersion\",void 0),r([o({json:{write:!0}})],s.prototype,\"hasPortal\",void 0),r([o({json:{write:!0}})],s.prototype,\"hasServer\",void 0),r([o({json:{write:!0}})],s.prototype,\"owningSystemUrl\",void 0),r([o({json:{write:!0}})],s.prototype,\"owningTenant\",void 0),r([o({json:{write:!0}})],s.prototype,\"server\",void 0),r([o({json:{write:!0}})],s.prototype,\"shortLivedTokenValidity\",void 0),r([o({json:{write:!0}})],s.prototype,\"tokenServiceUrl\",void 0),r([o({json:{write:!0}})],s.prototype,\"webTierAuth\",void 0),s=r([e(\"esri.identity.ServerInfo\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/global.js\";import\"../core/has.js\";import{fixJson as s}from\"../core/lang.js\";import{getDeepValue as r}from\"../core/object.js\";import i from\"../config.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../core/Error.js\";import{urlToObject as h,hasSameOrigin as l,Url as c,queryToObject as d,normalize as u,getProxyRule as p,makeAbsolute as _,objectToQuery as f}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{on as g}from\"../core/events.js\";import{createAbortController as m,createResolver as v,onAbort as S,isAborted as w}from\"../core/promiseUtils.js\";import I from\"../core/Evented.js\";import{id as k}from\"../kernel.js\";import A from\"../request.js\";import y from\"./IdentityForm.js\";import U from\"./IdentityModal.js\";import x from\"./OAuthCredential.js\";import T from\"./OAuthInfo.js\";import O from\"./ServerInfo.js\";const R={},b=e=>{const t=new c(e.owningSystemUrl).host,s=new c(e.server).host,r=/.+\\.arcgis\\.com$/i;return r.test(t)&&r.test(s)},P=(e,t)=>!!(b(e)&&t&&t.some((t=>t.test(e.server))));let C=null,D=null;try{C=window.localStorage,D=window.sessionStorage}catch{}let j=class extends I{constructor(){super(),this._portalConfig=t.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this.defaultOAuthInfo=null,this.defaultTokenValidity=60,this.dialog=null,this.formConstructor=y,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appUrlObj=h(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthHash=null,this._gwTokenUrl=\"/sharing/rest/generateToken\",this._agsRest=\"/rest/services\",this._agsPortal=/\\/sharing(\\/|$)/i,this._agsAdmin=/(https?:\\/\\/[^\\/]+\\/[^\\/]+)\\/admin\\/?(\\/.*)?$/i,this._adminSvcs=/\\/rest\\/admin\\/services(\\/|$)/i,this._gwDomains=[{regex:/^https?:\\/\\/www\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,customBaseUrl:\"mapsdev.arcgis.com\",tokenServiceUrl:\"https://dev.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,customBaseUrl:\"mapsdevext.arcgis.com\",tokenServiceUrl:\"https://devext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,customBaseUrl:\"mapsqa.arcgis.com\",tokenServiceUrl:\"https://qaext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"}],this._legacyFed=[],this._regexSDirUrl=/http.+\\/rest\\/services\\/?/gi,this._regexServerType=/(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi,this._gwUser=/http.+\\/users\\/([^\\/]+)\\/?.*/i,this._gwItem=/http.+\\/items\\/([^\\/]+)\\/?.*/i,this._gwGroup=/http.+\\/groups\\/([^\\/]+)\\/?.*/i,this._rePortalTokenSvc=/\\/sharing(\\/rest)?\\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getOAuthHash(),window.addEventListener(\"pageshow\",(e=>{this._pageShowHandler(e)}))}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server)}))}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const s of e){const e=this.findOAuthInfo(s.portalUrl);e&&t.splice(t.indexOf(e),1)}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),s=this._isServerRsrc(t);let r,i=this.findServerInfo(t),o=!0;i||(i=new O,i.server=this._getServerInstanceRoot(t),s?i.hasServer=!0:(i.tokenServiceUrl=this._getTokenSvcUrl(t),i.hasPortal=!0),this.registerServers([i])),r=this._findCredential(t),r?(delete e.server,Object.assign(r,e),o=!1):(r=new q({userId:e.userId,server:i.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:s?\"server\":\"portal\"}),r.resources=[t],this.credentials.push(r)),r.emitTokenChange(!1),o||r.refreshServerTokens()}toJSON(){return s({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;\"string\"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,s=e.oAuthInfos,r=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new O(t))})),e.length&&this.registerServers(e)}if(s){const e=[];s.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new T(t))})),e.length&&this.registerOAuthInfos(e)}r&&r.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new q(e)).emitTokenChange(),this.credentials.push(e))}))}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.serverInfos)if(this._hasSameServerInstance(s.server,e)){t=s;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.oAuthInfos)if(this._hasSameServerInstance(s.portalUrl,e)){t=s;break}return t}findCredential(e,t){let s;e=this._sanitizeUrl(e);const r=this._isServerRsrc(e)?\"server\":\"portal\";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===r){s=i;break}}else for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&-1!==this._getIdenticalSvcIdx(e,i)&&i.scope===r){s=i;break}return s}getCredential(e,t){let s,r,i=!0;t&&(s=!!t.token,r=t.error,i=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const o=m(),n=v();if(t.signal&&S(t.signal,(()=>{o.abort()})),S(o,(()=>{n.reject(new a(\"identity-manager:user-aborted\",\"ABORTED\"))})),w(o))return n.promise;t.signal=o.signal;const h=this._isAdminResource(e),c=s?this.findCredential(e):null;let d;if(c&&r&&r.details&&498===r.details.httpStatus)c.destroy();else if(c)return d=new a(\"identity-manager:not-authorized\",\"You are currently signed in as: '\"+c.userId+\"'. You do not have access to this resource: \"+e,{error:r}),n.reject(d),n.promise;const u=this._findCredential(e,t);if(u)return n.resolve(u),n.promise;let p=this.findServerInfo(e);if(p)!p.hasServer&&this._isServerRsrc(e)&&(p._restInfoPms=this._getTokenSvcUrl(e),p.hasServer=!0);else{const t=this._getTokenSvcUrl(e);if(!t)return d=new a(\"identity-manager:unknown-resource\",\"Unknown resource - could not find token service endpoint.\"),n.reject(d),n.promise;p=new O,p.server=this._getServerInstanceRoot(e),\"string\"==typeof t?(p.tokenServiceUrl=t,p.hasPortal=!0):(p._restInfoPms=t,p.hasServer=!0),this.registerServers([p])}return p.hasPortal&&void 0===p._selfReq&&(i||l(p.tokenServiceUrl,window.location.origin)||this._gwDomains.some((e=>e.tokenServiceUrl===p.tokenServiceUrl)))&&(p._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(p.tokenServiceUrl.replace(this._rePortalTokenSvc,\"/sharing/rest/portals/self\"),e)}),this._enqueue(e,p,t,n,h)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"\")||\"\":this._gwUser.test(e)&&e.replace(this._gwUser,\"$1\")||this._gwItem.test(e)&&e.replace(this._gwItem,\"$1\")||this._gwGroup.test(e)&&e.replace(this._gwGroup,\"$1\")||\"\"}generateToken(e,t,s){const r=this._rePortalTokenSvc.test(e.tokenServiceUrl),i=new c(window.location.href.toLowerCase()),o=e.shortLivedTokenValidity;let n,h,d,u,p,_,f,g;t&&(g=this.tokenValidity||o||this.defaultTokenValidity,g>o&&o>0&&(g=o)),s&&(n=s.isAdmin,h=s.serverUrl,d=s.token,_=s.signal,f=s.ssl,e.customParameters=s.customParameters),n?u=e.adminTokenServiceUrl:(u=e.tokenServiceUrl,p=new c(u.toLowerCase()),e.webTierAuth&&s&&s.serverUrl&&!f&&\"http\"===i.scheme&&(l(i.uri,u,!0)||\"https\"===p.scheme&&i.host===p.host&&\"7080\"===i.port&&\"7443\"===p.port)&&(u=u.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\")));const m={query:{request:\"getToken\",username:null==t?void 0:t.username,password:null==t?void 0:t.password,serverUrl:h,token:d,expiration:g,referer:n||r?window.location.host:null,client:n?\"referer\":null,f:\"json\",...e.customParameters},method:\"post\",authMode:\"anonymous\",useProxy:this._useProxy(e,s),signal:_,...null==s?void 0:s.ioArgs};r||(m.withCredentials=!1);return A(u,m).then((s=>{const r=s.data;if(!r||!r.token)return new a(\"identity-manager:authentication-failed\",\"Unable to generate token\");const i=e.server;return R[i]||(R[i]={}),t&&(R[i][t.username]=t.password),r.validity=g,r}))}isBusy(){return!!this._busy}checkSignInStatus(e){return this.checkAppAccess(e,\"\").then((e=>e.credential))}checkAppAccess(e,t,s){let r=!1;return this.getCredential(e,{prompt:!1}).then((i=>{let o;const n={f:\"json\"};if(\"portal\"===i.scope)if(t&&(this._doPortalSignIn(e)||s&&s.force))o=i.server+\"/sharing/rest/oauth2/validateAppAccess\",n.client_id=t;else{if(!i.token)return{credential:i};o=i.server+\"/sharing/rest\"}else{if(!i.token)return{credential:i};o=i.server+\"/rest/services\"}return i.token&&(n.token=i.token),A(o,{query:n,authMode:\"anonymous\"}).then((e=>{if(!1===e.data.valid)throw new a(\"identity-manager:not-authorized\",`You are currently signed in as: '${i.userId}'.`,e.data);return r=!!e.data.viewOnlyUserTypeApp,{credential:i}})).catch((e=>{if(\"identity-manager:not-authorized\"===e.name)throw e;const t=e.details&&e.details.httpStatus;if(498===t)throw i.destroy(),new a(\"identity-manager:not-authenticated\",\"User is not signed in.\");if(400===t)throw new a(\"identity-manager:invalid-request\");return{credential:i}}))})).then((e=>({credential:e.credential,viewOnly:r})))}setOAuthResponseHash(e){var t;const s=this._oAuthDfd;if(this._oAuthDfd=null,!s||!e)return;clearInterval(this._oAuthIntervalId),null==(t=this._oAuthOnHashHandle)||t.remove(),\"#\"===e.charAt(0)&&(e=e.substring(1));const r=d(e);if(r.error){const e=\"access_denied\"===r.error,t=new a(e?\"identity-manager:user-aborted\":\"identity-manager:authentication-failed\",e?\"ABORTED\":\"OAuth: \"+r.error+\" - \"+r.error_description);s.reject(t)}else{const e=s.sinfo_,t=s.oinfo_,i=t._oAuthCred,o=new q({userId:r.username,server:e.server,token:r.access_token,expires:Date.now()+1e3*Number(r.expires_in),ssl:\"true\"===r.ssl,_oAuthCred:i});t.userId=o.userId,i.storage=r.persist?C:D,i.token=o.token,i.expires=o.expires,i.userId=o.userId,i.ssl=o.ssl,i.save(),s.resolve(o)}}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,t,s={}){const r=v(),i=()=>{var e,t,s,r,i;null==(e=h)||e.remove(),null==(t=l)||t.remove(),null==(s=c)||s.remove(),null==(r=n)||r.destroy(),null==(i=this.dialog)||i.destroy(),this.dialog=n=h=l=c=null},o=()=>{i(),this._oAuthDfd=null,r.reject(new a(\"identity-manager:user-aborted\",\"ABORTED\"))};s.signal&&S(s.signal,(()=>{o()}));let n=new this.formConstructor;n.resource=this.getResourceName(e),n.server=t.server,this.dialog=new U,this.dialog.content=n,this.dialog.open=!0,this.emit(\"dialog-create\");let h=n.on(\"cancel\",o),l=this.dialog.watch(\"open\",o),c=n.on(\"submit\",(e=>{this.generateToken(t,e,{isAdmin:s.isAdmin,signal:s.signal}).then((o=>{i();const n=new q({userId:e.username,server:t.server,token:o.token,expires:null!=o.expires?Number(o.expires):null,ssl:!!o.ssl,isAdmin:s.isAdmin,validity:o.validity});r.resolve(n)})).catch((e=>{n.error=e,n.signingIn=!1}))}));return r.promise}oAuthSignIn(e,t,s,r){this._oAuthDfd=v();const i=this._oAuthDfd;null!=r&&r.signal&&S(r.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&h()})),i.resUrl_=e,i.sinfo_=t,i.oinfo_=s;const o=!r||!1!==r.oAuthPopupConfirmation;if(!s.popup||!o)return this._doOAuthSignIn(e,t,s),i.promise;const n=new this.formConstructor;n.oAuthPrompt=!0,n.server=t.server,this.dialog=new U,this.dialog.content=n,this.dialog.open=!0,this.emit(\"dialog-create\");const h=()=>{u(),this._oAuthDfd=null,i.reject(new a(\"identity-manager:user-aborted\",\"ABORTED\"))},l=n.on(\"cancel\",h),c=this.dialog.watch(\"open\",h),d=n.on(\"submit\",(()=>{u(),this._doOAuthSignIn(e,t,s)})),u=()=>{l.remove(),c.remove(),d.remove(),n.destroy(),this.dialog.destroy(),this.dialog=null};return i.promise}destroyCredentials(){if(this.credentials){this.credentials.slice().forEach((e=>{e.destroy()}))}this.emit(\"credentials-destroy\")}enablePostMessageAuth(e=\"https://www.arcgis.com/sharing/rest\"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=g(window,\"message\",(t=>{var s;if((t.origin===window.location.origin||t.origin.endsWith(\".arcgis.com\"))&&\"arcgis:auth:requestCredential\"===(null==(s=t.data)?void 0:s.type)){const s=t.source;this.getCredential(e).then((e=>{s.postMessage({type:\"arcgis:auth:credential\",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin)})).catch((e=>{s.postMessage({type:\"arcgis:auth:error\",error:{name:e.name,message:e.message}},t.origin)}))}}))}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthHash(){let e=window.location.hash;if(e){\"#\"===e.charAt(0)&&(e=e.substring(1));const t=d(e);let s=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty(\"username\"))try{t.state=JSON.parse(t.state),\"object\"==typeof t.state&&t.state.portalUrl&&(this._oAuthHash=t,s=!0)}catch{}else t.error&&t.error_description&&(console.log(\"IdentityManager OAuth Error: \",t.error,\" - \",t.error_description),\"access_denied\"===t.error&&(s=!0));s&&(window.location.hash=\"object\"==typeof t.state&&t.state.hash||\"\")}}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new a(\"identity-manager:user-aborted\",\"ABORTED\");this._errbackFunc(e)}}_findCredential(e,t){let s,r,i,o,n=-1;const a=t&&t.token,h=t&&t.resource,l=this._isServerRsrc(e)?\"server\":\"portal\",c=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===l));if(e=h||e,c.length)if(1===c.length){if(s=c[0],o=this.findServerInfo(s.server),r=o&&o.owningSystemUrl,i=r&&this.findCredential(r,s.userId),n=this._getIdenticalSvcIdx(e,s),!a)return-1===n&&s.resources.push(e),this._addResource(e,i),s;-1!==n&&(s.resources.splice(n,1),this._removeResource(e,i))}else{let t,s;if(c.some((a=>(s=this._getIdenticalSvcIdx(e,a),-1!==s&&(t=a,o=this.findServerInfo(t.server),r=o&&o.owningSystemUrl,i=r&&this.findCredential(r,t.userId),n=s,!0)))),a)t&&(t.resources.splice(n,1),this._removeResource(e,i));else if(t)return this._addResource(e,i),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const s of this.oAuthInfos)if(this._isIdProvider(s.portalUrl,e)){t=s;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}_removeResource(e,t){let s=-1;t&&(s=this._getIdenticalSvcIdx(e,t),s>-1&&t.resources.splice(s,1))}_useProxy(e,t){return t&&t.isAdmin&&!l(e.adminTokenServiceUrl,window.location.href)||!this._isPortalDomain(e.tokenServiceUrl)&&\"10.1\"===String(e.currentVersion)&&!l(e.tokenServiceUrl,window.location.href)}_getOrigin(e){const t=new c(e);return t.scheme+\"://\"+t.host+(null!=t.port?\":\"+t.port:\"\")}_getServerInstanceRoot(e){const t=e.toLowerCase();let s=t.indexOf(this._agsRest);return-1===s&&this._isAdminResource(e)&&(s=this._agsAdmin.test(e)?e.replace(this._agsAdmin,\"$1\").length:e.search(this._adminSvcs)),-1===s&&(s=t.indexOf(\"/sharing\")),-1===s&&\"/\"===t.substr(-1)&&(s=t.length-1),s>-1?e.substring(0,s):e}_hasSameServerInstance(e,t){return\"/\"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(\":\")))===(t=t.substr(t.indexOf(\":\")))}_normalizeAGOLorgDomain(e){const t=/^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i,s=/^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,r=/^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i;return t.test(e)?e=e.replace(t,\"https://www.arcgis.com\"):s.test(e)?e=e.replace(s,\"https://devext.arcgis.com\"):r.test(e)&&(e=e.replace(r,\"https://qaext.arcgis.com\")),e}_sanitizeUrl(e){const t=(i.request.proxyUrl||\"\").toLowerCase(),s=t?e.toLowerCase().indexOf(t+\"?\"):-1;return-1!==s&&(e=e.substring(s+t.length+1)),e=u(e),h(e).path}_isRESTService(e){return e.indexOf(this._agsRest)>-1}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let s;if(this._isRESTService(e)&&this._isRESTService(t)){const r=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(s=r===i,!s){const e=/(.*)\\/(MapServer|FeatureServer).*/gi;s=r.replace(e,\"$1\")===i.replace(e,\"$1\")}}else this._isAdminResource(e)&&this._isAdminResource(t)?s=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(s=!0);return s}_isPortalDomain(e){const t=new c(e.toLowerCase()),s=this._portalConfig;let r=this._gwDomains.some((e=>e.regex.test(t.uri)));return!r&&s&&(r=this._hasSameServerInstance(this._getServerInstanceRoot(s.restBaseUrl),t.uri)),r||i.portalUrl&&(r=l(t,i.portalUrl,!0)),r||(r=this._portals.some((e=>this._hasSameServerInstance(e,t.uri)))),r=r||this._agsPortal.test(t.path),r}_isIdProvider(e,t){let s=-1,r=-1;this._gwDomains.forEach(((i,o)=>{-1===s&&i.regex.test(e)&&(s=o),-1===r&&i.regex.test(t)&&(r=o)}));let i=!1;if(s>-1&&r>-1&&(0===s||4===s?0!==r&&4!==r||(i=!0):1===s?1!==r&&2!==r||(i=!0):2===s?2===r&&(i=!0):3===s&&3===r&&(i=!0)),!i){const s=this.findServerInfo(t),r=s&&s.owningSystemUrl;r&&b(s)&&this._isPortalDomain(r)&&this._isIdProvider(e,r)&&(i=!0)}return i}_getIdenticalSvcIdx(e,t){let s=-1;for(let r=0;r<t.resources.length;r++){const i=t.resources[r];if(this._isIdenticalService(e,i)){s=r;break}}return s}_getSuffix(e){return e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"$1\")}_getTokenSvcUrl(e){let t,s,r;if(this._isRESTService(e)||this._isAdminResource(e)){const r=this._getServerInstanceRoot(e);return t=r+\"/admin/generateToken\",s=A(e=r+\"/rest/info\",{query:{f:\"json\"}}).then((e=>e.data)),{adminUrl:t,promise:s}}if(this._isPortalDomain(e)){let t=\"\";if(this._gwDomains.some((s=>(s.regex.test(e)&&(t=s.tokenServiceUrl),!!t))),t||this._portals.some((s=>(this._hasSameServerInstance(s,e)&&(t=s+this._gwTokenUrl),!!t))),t||(r=e.toLowerCase().indexOf(\"/sharing\"),-1!==r&&(t=e.substring(0,r)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const s=new c(e).port;/^http:\\/\\//i.test(e)&&\"7080\"===s&&(t=t.replace(/:7080/i,\":7443\")),t=t.replace(/http:/i,\"https:\")}return t}if(-1!==e.toLowerCase().indexOf(\"premium.arcgisonline.com\"))return\"https://premium.arcgisonline.com/server/tokens\"}_exchangeToken(e,t,s){return A(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:\"anonymous\",method:\"post\",query:{f:\"json\",client_id:t,token:s}}).then((e=>e.data.token))}_getPlatformSelf(e,t){return A(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:\"anonymous\",headers:{\"X-Esri-Auth-Client-Id\":t,\"X-Esri-Auth-Redirect-Uri\":window.location.href.replace(/#.*$/,\"\")},method:\"post\",query:{f:\"json\"},withCredentials:!0}).then((e=>e.data))}_getPortalSelf(e,t){let s;if(this._gwDomains.some((t=>(t.regex.test(e)&&(s=t.customBaseUrl),!!s))),s)return Promise.resolve({allSSL:!0,currentVersion:\"4.4\",customBaseUrl:s,portalMode:\"multitenant\",supportsOAuth:!0});\"https:\"===window.location.protocol?e=e.replace(/^http:/i,\"https:\").replace(/:7080/i,\":7443\"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\"));return A(e,{query:{f:\"json\"},authMode:\"anonymous\",withCredentials:!0}).then((e=>e.data))}_doPortalSignIn(e){const t=this._portalConfig,s=window.location.href,r=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(s)||!(r?r.hasPortal||r.owningSystemUrl&&this._isPortalDomain(r.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(s,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||l(s,e,!0)))}_checkProtocol(e,t,s,r){let i=!0;const o=r?t.adminTokenServiceUrl:t.tokenServiceUrl;if(0===o.trim().toLowerCase().indexOf(\"https:\")&&0!==window.location.href.toLowerCase().indexOf(\"https:\")&&p(o)&&(i=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!i)){s(new a(\"identity-manager:aborted\",\"Aborted the Sign-In process to avoid sending password over insecure connection.\"))}return i}_enqueue(e,t,s,r,i,o){return r||(r=v()),r.resUrl_=e,r.sinfo_=t,r.options_=s,r.admin_=i,r.refresh_=o,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(r)):this._xoReqs.push(r):this._doSignIn(r),r.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const t=t=>{const s=e.options_&&e.options_.resource,r=e.resUrl_,i=e.refresh_;let o=!1;-1===this.credentials.indexOf(t)&&(i&&-1!==this.credentials.indexOf(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,o=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.push(s||r),t.scope=this._isServerRsrc(r)?\"server\":\"portal\",t.emitTokenChange();const n=this._soReqs,a={};this._soReqs=[],n.forEach((e=>{if(!this._isIdenticalService(r,e.resUrl_)){const s=this._getSuffix(e.resUrl_);a[s]||(a[s]=!0,t.resources.push(e.resUrl_))}})),e.resolve(t),n.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(r),e.resUrl_)?e.resolve(t):this._soReqs.push(e)})),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,o||this.emit(\"credential-create\",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=t=>{e.reject(t),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},i=(r,i,o,n)=>{var h,c;const d=e.sinfo_,u=!e.options_||!1!==e.options_.prompt,p=d.hasPortal&&this._findOAuthInfo(e.resUrl_);let _,f;if(r)t(new q({userId:r,server:d.server,token:o||null,expires:null!=n?Number(n):null,ssl:!!i}));else if(window!==window.parent&&null!=(h=this._appUrlObj.query)&&h[\"arcgis-auth-origin\"]&&null!=(c=this._appUrlObj.query)&&c[\"arcgis-auth-portal\"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query[\"arcgis-auth-portal\"]),e.resUrl_)){var m;window.parent.postMessage({type:\"arcgis:auth:requestCredential\"},this._appUrlObj.query[\"arcgis-auth-origin\"]);const r=g(window,\"message\",(e=>{e.source===window.parent&&e.data&&(\"arcgis:auth:credential\"===e.data.type?(r.remove(),t(new q(e.data.credential))):\"arcgis:auth:error\"===e.data.type&&(r.remove(),s(a.fromJSON(e.data.error))))}));S(null==(m=e.options_)?void 0:m.signal,(()=>{r.remove()}))}else if(p){let r=p._oAuthCred;if(!r){const e=new x(p,C),t=new x(p,D);e.isValid()&&t.isValid()?e.expires>t.expires?(r=e,t.destroy()):(r=t,e.destroy()):r=e.isValid()?e:t,p._oAuthCred=r}if(r.isValid())_=new q({userId:r.userId,server:d.server,token:r.token,expires:r.expires,ssl:r.ssl,_oAuthCred:r}),p.appId!==r.appId&&this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._exchangeToken(_.server,p.appId,_.token).then((e=>{_.token=e,r.token=e,r.save(),t(_)})).catch((()=>{t(_)})):t(_);else if(this._oAuthHash&&this._hasSameServerInstance(p.portalUrl,this._oAuthHash.state.portalUrl)){const e=this._oAuthHash;_=new q({userId:e.username,server:d.server,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:\"true\"===e.ssl,oAuthState:e.state,_oAuthCred:r}),p.userId=_.userId,r.storage=e.persist?C:D,r.token=_.token,r.expires=_.expires,r.userId=_.userId,r.ssl=_.ssl,r.save(),this._oAuthHash=null,t(_)}else{const r=()=>{u?e._pendingDfd=this.oAuthSignIn(e.resUrl_,d,p,e.options_).then(t,s):(f=new a(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(f))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(d.server,p.appId).then((({portalUrl:e,token:s,username:i})=>{!e||l(e,window.location.origin,!0)?(_=new q({server:d.server,userId:i,token:s}),t(_)):r()})).catch(r):r()}}else if(u){if(this._checkProtocol(e.resUrl_,d,s,e.admin_)){let r=e.options_;e.admin_&&(r=r||{},r.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,d,r).then(t,s)}}else f=new a(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(f)},o=()=>{const r=e.sinfo_,i=r.owningSystemUrl,o=e.options_;let n,a,h,l;if(o&&(n=o.token,a=o.error,h=o.prompt),l=this._findCredential(i,{token:n,resource:e.resUrl_}),!l)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){l=e;break}if(l){const i=this.findCredential(e.resUrl_,l.userId);if(i)t(i);else if(P(r,this._legacyFed)){const e=l.toJSON();e.server=r.server,e.resources=null,t(new q(e))}else{(e._pendingDfd=this.generateToken(this.findServerInfo(l.server),null,{serverUrl:e.resUrl_,token:l.token,signal:e.options_.signal,ssl:l.ssl})).then((s=>{t(new q({userId:l.userId,server:r.server,token:s.token,expires:null!=s.expires?Number(s.expires):null,ssl:!!s.ssl,isAdmin:e.admin_,validity:s.validity}))}),s)}}else{this._busy=null,n&&(e.options_.token=null);(e._pendingDfd=this.getCredential(i.replace(/\\/?$/,\"/sharing\"),{resource:e.resUrl_,owningTenant:r.owningTenant,signal:e.options_.signal,token:n,error:a,prompt:h})).then((()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(e=>{s(e)}))}};this._errbackFunc=s;const n=e.sinfo_.owningSystemUrl,h=this._isServerRsrc(e.resUrl_),c=e.sinfo_._restInfoPms;c?c.promise.then((t=>{const s=e.sinfo_;if(s._restInfoPms){s.adminTokenServiceUrl=s._restInfoPms.adminUrl,s._restInfoPms=null,s.tokenServiceUrl=r(\"authInfo.tokenServicesUrl\",t)||r(\"authInfo.tokenServiceUrl\",t)||r(\"tokenServiceUrl\",t),s.shortLivedTokenValidity=r(\"authInfo.shortLivedTokenValidity\",t),s.currentVersion=t.currentVersion,s.owningTenant=t.owningTenant;const e=s.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e)}h&&s.owningSystemUrl?o():i()}),(()=>{e.sinfo_._restInfoPms=null;const t=new a(\"identity-manager:server-identification-failed\",\"Unknown resource - could not find token service endpoint.\");s(t)})):h&&n?o():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((t=>{const s={};let r,i,o,n;return t&&(r=t.user&&t.user.username,s.username=r,s.allSSL=t.allSSL,i=t.supportsOAuth,o=t.currentVersion,\"multitenant\"===t.portalMode&&(n=t.customBaseUrl)),e.sinfo_.webTierAuth=!!r,r&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:s.allSSL}).catch((()=>null)).then((e=>(s.portalToken=e&&e.token,s.tokenExpiration=e&&e.expires,s))):!r&&i&&parseFloat(o)>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:n,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>s)):s})).catch((()=>null)).then((t=>{e.sinfo_._selfReq=null,t?i(t.username,t.allSSL,t.portalToken,t.tokenExpiration):i()})):i()}_generateOAuthInfo(e){let t,s,r=e.portalUrl;const i=e.customBaseUrl,o=e.owningTenant,n=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(n){s=window.location.href;let e=s.indexOf(\"?\");e>-1&&(s=s.slice(0,e)),e=s.search(/\\/(apps|home)\\//),s=e>-1?s.slice(0,e):null}return n&&s?(this._hasTestedIfAppIsOnPortal=!0,t=A(s+\"/sharing/rest\",{query:{f:\"json\"}}).then((()=>{this.defaultOAuthInfo=new T({appId:\"arcgisonline\",popupCallbackUrl:s+\"/home/oauth-callback.html\"})}))):t=Promise.resolve(),t.then((()=>{if(this.defaultOAuthInfo)return r=r.replace(/^http:/i,\"https:\"),A(r+\"/sharing/rest/oauth2/validateRedirectUri\",{query:{accountId:o,client_id:this.defaultOAuthInfo.appId,redirect_uri:_(this.defaultOAuthInfo.popupCallbackUrl),f:\"json\"}}).then((e=>{if(e.data.valid){const t=this.defaultOAuthInfo.clone();e.data.urlKey&&i?t.portalUrl=\"https://\"+e.data.urlKey.toLowerCase()+\".\"+i:t.portalUrl=r,t.popup=window!==window.top||!(l(r,window.location.origin)||this._gwDomains.some((e=>e.regex.test(r)&&e.regex.test(window.location.origin)))),this.oAuthInfos.push(t)}}))}))}_doOAuthSignIn(e,s,r){const i={portalUrl:r.portalUrl};!r.popup&&r.preserveUrlHash&&window.location.hash&&(i.hash=window.location.hash);const o={client_id:r.appId,response_type:\"token\",state:JSON.stringify(i),expiration:r.expiration,locale:r.locale,redirect_uri:r.popup?_(r.popupCallbackUrl):window.location.href.replace(/#.*$/,\"\")};r.forceLogin&&(o.force_login=!0),r.forceUserId&&r.userId&&(o.prepopulatedusername=r.userId),!r.popup&&this._doPortalSignIn(e)&&(o.redirectToUserOrgUrl=!0);const n=r.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/oauth2/authorize\",h=n+\"?\"+f(o);if(r.popup){const e=window.open(h,\"esriJSAPIOAuth\",r.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnHashHandle.remove();const e=this._oAuthDfd;if(e){const t=new a(\"identity-manager:user-aborted\",\"ABORTED\");e.reject(t)}}}),500),this._oAuthOnHashHandle=g(t,\"arcgis:auth:hash\",(e=>{this.setOAuthResponseHash(e.detail)}));else{const e=new a(\"identity-manager:popup-blocked\",\"ABORTED\");this._oAuthDfd.reject(e)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:o,authorizeUrl:n,resourceUrl:e,serverInfo:s,oAuthInfo:r}):window.location.href=h}};j=e([n(\"esri.identity.IdentityManagerBase\")],j);let q=class extends I.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}refreshToken(){const e=k.findServerInfo(this.server),t=e&&e.owningSystemUrl,s=!!t&&\"server\"===this.scope,r=s&&P(e,k._legacyFed),i=e.webTierAuth,o=i&&k.normalizeWebTierAuth,n=R[this.server],a=n&&n[this.userId];let h,l=this.resources&&this.resources[0],c=s&&k.findServerInfo(t),d={username:this.userId,password:a};if(i&&!o)return;s&&!c&&k.serverInfos.some((e=>(k._isIdProvider(t,e.server)&&(c=e),!!c)));const u=c&&k.findCredential(c.server,this.userId);if(!s||u){if(!r){if(s)h={serverUrl:l,token:u&&u.token,ssl:u&&u.ssl};else if(o)d=null,h={ssl:this.ssl};else{if(!a){let t;return l&&(l=k._sanitizeUrl(l),this._enqueued=1,t=k._enqueue(l,e,null,null,this.isAdmin,this),t.then((()=>{this._enqueued=0,this.refreshServerTokens()})).catch((()=>{this._enqueued=0}))),t}this.isAdmin&&(h={isAdmin:!0})}return k.generateToken(s?c:e,s?null:d,h).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens()})).catch((()=>{}))}u.refreshToken()}}refreshServerTokens(){\"portal\"===this.scope&&k.credentials.forEach((e=>{const t=k.findServerInfo(e.server),s=t&&t.owningSystemUrl;e!==this&&e.userId===this.userId&&s&&\"server\"===e.scope&&(k._hasSameServerInstance(this.server,s)||k._isIdProvider(s,this.server))&&(P(t,k._legacyFed)?(e.token=this.token,e.expires=this.expires,e.creationTime=this.creationTime,e.validity=this.validity,e.emitTokenChange()):e.refreshToken())}))}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=this.server&&k.findServerInfo(this.server),s=t&&t.owningSystemUrl,r=s&&k.findServerInfo(s);!1===e||s&&\"portal\"!==this.scope&&(!r||!r.webTierAuth||k.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit(\"token-change\")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=k.credentials.indexOf(this);e>-1&&k.credentials.splice(e,1),this.emitTokenChange(),this.emit(\"destroy\")}toJSON(){const e=s({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let s=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();s<0?s=0:s>t&&(s=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),s>e?s-e:s)}};e([o()],q.prototype,\"creationTime\",void 0),e([o()],q.prototype,\"expires\",void 0),e([o()],q.prototype,\"isAdmin\",void 0),e([o()],q.prototype,\"oAuthState\",void 0),e([o()],q.prototype,\"resources\",void 0),e([o()],q.prototype,\"scope\",void 0),e([o()],q.prototype,\"server\",void 0),e([o()],q.prototype,\"ssl\",void 0),e([o()],q.prototype,\"token\",void 0),e([o()],q.prototype,\"tokenRefreshBuffer\",void 0),e([o()],q.prototype,\"userId\",void 0),e([o()],q.prototype,\"validity\",void 0),q=e([n(\"esri.identity.Credential\")],q);export{q as Credential,j as IdentityManagerBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";import{setId as r}from\"../kernel.js\";import{IdentityManagerBase as t}from\"./IdentityManagerBase.js\";let o=class extends t{};o=s([e(\"esri.identity.IdentityManager\")],o);const a=new o;r(a);export default a;\n"],"names":["l","a","u","constructor","s","e","super","this","_usernameInputNode","_passwordInputNode","messages","signingIn","server","resource","error","oAuthPrompt","render","t","i","d","n","class","r","oAuthInfo","info","test","lblItem","c","lblUser","value","required","autocomplete","spellcheck","type","bind","afterCreate","o","m","lblPwd","h","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","b","details","httpStatus","invalidUser","noAuthService","onsubmit","_submit","_set","emit","preventDefault","username","password","prototype","activeFocusDelay","candidateSelectors","candidateSelector","join","matches","Element","msMatchesSelector","webkitMatchesSelector","getCandidates","el","includeContainer","filter","candidates","Array","slice","apply","querySelectorAll","call","unshift","getTabindex","node","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","nodeName","tabIndex","sortOrderedTabbables","documentOrder","isInput","tagName","isNonTabbableRadio","isRadio","name","radioSet","radioScope","form","ownerDocument","queryRadios","window","CSS","escape","err","console","message","checked","nodes","length","getCheckedRadio","isTabbableRadio","isNodeMatchingSelectorFocusable","options","isHiddenInput","displayCheck","getComputedStyle","visibility","nodeUnderDetails","parentElement","_node$getBoundingClie","getBoundingClientRect","width","height","display","isHidden","children","some","child","isDetailsWithSummary","isNodeMatchingSelectorTabbable","focusableCandidateSelector","concat","isFocusable","Error","activeFocusTraps","trapQueue","activateTrap","trap","activeTrap","pause","trapIndex","indexOf","splice","push","deactivateTrap","unpause","delay","fn","setTimeout","findIndex","arr","idx","every","valueOrHandler","_len","arguments","params","_key","createFocusTrap","elements","userOptions","doc","document","config","_objectSpread2","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","containersContain","element","container","contains","getNodeForOption","optionName","optionValue","querySelector","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","map","tabbableNodes","regularTabbables","orderedTabbables","forEach","candidate","candidateTabindex","sort","tabbable","lastTabbableNode","group","tryFocus","focus","preventScroll","toLowerCase","select","isSelectableInput","checkPointerDown","target","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","key","keyCode","isEscapeEvent","isTabEvent","destinationNode","_ref","shiftKey","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkTab","checkClick","addListeners","addEventListener","capture","passive","removeListeners","removeEventListener","activate","activateOptions","onActivate","deactivateOptions","clearTimeout","onDeactivate","undefined","previousActiveElement","updateContainerElements","containerElements","elementsAsArray","Boolean","createElement","content","open","_close","body","appendChild","own","watch","_toggleFocusTrap","destroy","_destroyFocusTrap","id","title","close","p","role","_createFocusTrap","_renderContent","_focusTrap","requestAnimationFrame","initialFocus","cancelAnimationFrame","innerHTML","HTMLElement","_attachToNode","readOnly","aliasOf","storage","appId","expires","ssl","token","userId","_init","isValid","Date","now","minTimeUntilExpiration","save","_load","authNamespace","portalUrl","setItem","JSON","stringify","log","replace","FormData","append","navigator","sendBeacon","XMLHttpRequest","send","_oAuthCred","getItem","parse","declaredClass","expiration","forceLogin","forceUserId","locale","popup","popupCallbackUrl","popupWindowFeatures","preserveUrlHash","clone","fromJSON","toJSON","json","write","adminTokenServiceUrl","currentVersion","hasPortal","hasServer","owningSystemUrl","owningTenant","shortLivedTokenValidity","tokenServiceUrl","webTierAuth","R","host","P","C","D","localStorage","sessionStorage","j","I","_portalConfig","esriGeowConfig","serverInfos","oAuthInfos","credentials","_soReqs","_xoReqs","_portals","defaultOAuthInfo","defaultTokenValidity","dialog","formConstructor","y","tokenValidity","normalizeWebTierAuth","_appUrlObj","location","href","_busy","_rejectOnPersistedPageShow","_oAuthHash","_gwTokenUrl","_agsRest","_agsPortal","_agsAdmin","_adminSvcs","_gwDomains","regex","customBaseUrl","_legacyFed","_regexSDirUrl","_regexServerType","_gwUser","_gwItem","_gwGroup","_rePortalTokenSvc","_createDefaultOAuthInfo","_hasTestedIfAppIsOnPortal","_getOAuthHash","_pageShowHandler","registerServers","findServerInfo","registerOAuthInfos","findOAuthInfo","registerToken","_sanitizeUrl","_isServerRsrc","O","_getServerInstanceRoot","_getTokenSvcUrl","_findCredential","Object","assign","q","scope","resources","emitTokenChange","refreshServerTokens","initialize","T","_hasSameServerInstance","findCredential","_getIdenticalSvcIdx","getCredential","prompt","v","signal","S","abort","reject","w","promise","_isAdminResource","resolve","_restInfoPms","_selfReq","origin","selfDfd","_getPortalSelf","_enqueue","getResourceName","_isRESTService","generateToken","_","f","g","isAdmin","serverUrl","customParameters","scheme","uri","port","query","request","referer","client","method","authMode","useProxy","_useProxy","ioArgs","withCredentials","A","then","data","validity","isBusy","checkSignInStatus","checkAppAccess","credential","_doPortalSignIn","force","client_id","valid","viewOnlyUserTypeApp","catch","viewOnly","setOAuthResponseHash","_oAuthDfd","clearInterval","_oAuthIntervalId","_oAuthOnHashHandle","remove","charAt","substring","error_description","sinfo_","oinfo_","access_token","Number","expires_in","persist","setOAuthRedirectionHandler","_oAuthRedirectFunc","setProtocolErrorHandler","_protocolFunc","signIn","U","on","oAuthSignIn","oAuthWin_","closed","resUrl_","oAuthPopupConfirmation","_doOAuthSignIn","destroyCredentials","enablePostMessageAuth","_postMessageAuthHandle","endsWith","source","postMessage","disablePostMessageAuth","hash","hasOwnProperty","persisted","_errbackFunc","_addResource","_removeResource","_findOAuthInfo","_isIdProvider","_isPortalDomain","String","_getOrigin","search","substr","_normalizeAGOLorgDomain","proxyUrl","path","_isIdenticalService","_getSuffix","restBaseUrl","adminUrl","_exchangeToken","_getPlatformSelf","headers","Promise","allSSL","portalMode","supportsOAuth","protocol","_checkProtocol","trim","resourceUrl","serverInfo","options_","admin_","refresh_","_doSignIn","creationTime","shift","parent","x","_pendingDfd","oAuthState","user","portalToken","tokenExpiration","parseFloat","_generateOAuthInfo","accountId","redirect_uri","urlKey","top","response_type","force_login","prepopulatedusername","redirectToUserOrgUrl","setInterval","detail","authorizeParams","authorizeUrl","EventedAccessor","tokenRefreshBuffer","refreshToken","k","_enqueued","_refreshTimer","_startRefreshTimer"],"sourceRoot":""}